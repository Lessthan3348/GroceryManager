<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shopping List</title>
<style>
  :root {
    --light-bg: #ffffff;
    --light-text: #000000;
    --dark-bg: #181818;
    --dark-text: #ffffff;
    --primary-color: #6200ea;
    --secondary-color: #03dac6;
    --btn-shadow: rgba(98, 0, 234, 0.4);
    --btn-hover-shadow: rgba(3, 218, 198, 0.6);
  }

  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: var(--light-bg);
    color: var(--light-text);
    transition: background-color 0.3s, color 0.3s;
  }

  .dark-mode {
    background-color: var(--dark-bg);
    color: var(--dark-text);
  }

  h1 {
    text-align: center;
    color: var(--primary-color);
  }

  .dark-mode h1 {
    color: var(--secondary-color);
  }

  .container {
    max-width: 900px;
    margin: 20px auto;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    background-color: var(--light-bg);
    display: flex;
    gap: 30px;
  }

  .dark-mode .container {
    background-color: var(--dark-bg);
  }

  .items-list, .shopping-list {
    flex: 1;
  }

  h2 {
    margin-top: 0;
  }

  /* Search input with autocomplete container */
  #search-container {
    position: relative;
    margin-bottom: 10px;
  }

  #search-input {
    width: 100%;
    padding: 8px 12px;
    font-size: 1rem;
    border: 1.5px solid #ccc;
    border-radius: 6px;
    box-sizing: border-box;
    transition: border-color 0.3s;
  }

  #search-input:focus {
    border-color: var(--primary-color);
    outline: none;
    box-shadow: 0 0 8px var(--primary-color);
  }

  /* Autocomplete dropdown */
  #autocomplete-list {
    position: absolute;
    top: 110%;
    left: 0;
    right: 0;
    background: var(--light-bg);
    border: 1px solid #ccc;
    border-top: none;
    max-height: 150px;
    overflow-y: auto;
    z-index: 10;
    border-radius: 0 0 6px 6px;
  }

  .dark-mode #autocomplete-list {
    background: var(--dark-bg);
    border-color: #444;
  }

  #autocomplete-list div {
    padding: 8px 12px;
    cursor: pointer;
    transition: background-color 0.2s;
  }

  #autocomplete-list div:hover {
    background-color: var(--secondary-color);
    color: #000;
  }

  ul {
    list-style: none;
    padding: 0;
    max-height: 600px;
    overflow-y: auto;
    border: 1px solid #ccc;
    border-radius: 5px;
    background: var(--light-bg);
  }

  .dark-mode ul {
    background: var(--dark-bg);
    border-color: #444;
  }

  li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 10px;
    border-bottom: 1px solid #ccc;
  }

  .dark-mode li {
    border-color: #444;
  }

  .item-info {
    flex: 1;
  }

  .controls {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  select, input[type="number"] {
    padding: 6px 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 90px;
    font-size: 0.9rem;
    transition: border-color 0.3s;
  }

  select:focus, input[type="number"]:focus {
    border-color: var(--primary-color);
    outline: none;
    box-shadow: 0 0 8px var(--primary-color);
  }

  button {
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    background-color: var(--primary-color);
    color: #fff;
    cursor: pointer;
    font-weight: 600;
    box-shadow: 0 4px 8px var(--btn-shadow);
    transition: background-color 0.3s, box-shadow 0.3s, transform 0.15s ease;
    user-select: none;
  }

  button:hover {
    background-color: var(--secondary-color);
    box-shadow: 0 6px 12px var(--btn-hover-shadow);
    transform: scale(1.05);
  }

  button:active {
    transform: scale(0.95);
  }

  .remove-btn {
    background-color: #e53935;
    box-shadow: 0 4px 8px rgba(229, 57, 53, 0.5);
  }

  .remove-btn:hover {
    background-color: #b71c1c;
    box-shadow: 0 6px 12px rgba(183, 28, 28, 0.7);
  }

  .share {
    margin-top: 20px;
    text-align: center;
  }

  .share button {
    margin: 0 6px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 1rem;
    padding: 10px 18px;
  }

  .share button img {
    width: 22px;
    height: 22px;
  }

  .toggle {
    text-align: center;
    margin: 25px 0;
  }

  .toggle button {
    padding: 12px 24px;
    font-size: 1rem;
  }
</style>
</head>
<body>
  <h1>Shopping List</h1>
  <div class="container">
    <div class="items-list">
      <h2>Available Items</h2>

      <div id="search-container">
        <input type="text" id="search-input" placeholder="Search items..." autocomplete="off" />
        <div id="autocomplete-list"></div>
      </div>

      <ul id="available-items">
        <!-- Items injected by JS -->
      </ul>
    </div>

    <div class="shopping-list">
      <h2>My Shopping List</h2>
      <ul id="shopping-list"></ul>

      <div class="share">
        <button onclick="shareWhatsApp()" title="Share on WhatsApp">
          <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" />
          WhatsApp
        </button>
        <button onclick="shareFacebook()" title="Share on Facebook">
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_(2019).png" alt="Facebook" />
          Facebook
        </button>
        <button onclick="shareTwitter()" title="Share on Twitter">
          <img src="https://upload.wikimedia.org/wikipedia/en/9/9f/Twitter_bird_logo_2012.svg" alt="Twitter" />
          Twitter
        </button>
        <button onclick="copyList()" title="Copy to Clipboard">
          ðŸ“‹ Copy List
        </button>
      </div>
    </div>
  </div>

  <div class="toggle">
    <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
  </div>

<script>
  const items = [
    "pÃ¥se napolitana salads mix",
    "kg tomat",
    "kg championer",
    "kg rÃ¶dlÃ¶k",
    "st margarin flytande rama",
    "dunk olivolja extra virgin 5 L",
    "kg gurka ofilmad",
    "kg citron",
    "hink handskalade rÃ¤kor",
    "1/2 kg granny smith Ã¤pplen grÃ¶na",
    "flak RamlÃ¶sa naturell i burk",
    "flak coca cola i burk",
    "flak coca cola zero i burk",
    "liter standard mjÃ¶lk",
    "spray grÃ¤dde",
    "liter rama grÃ¤dde",
    "pÃ¥se riven mozzarella ost",
    "pÃ¥se riven grano padano",
    "st 500 gram smÃ¶r red label arla",
    "st bakad potatis",
    "kg spaghetti",
    "chÃ¨vre rulle",
    "pÃ¥se mospotatis chefs cut",
    "ask ruccola",
    "kg lime",
    "ask basilika",
    "knippe fÃ¤rsk mynta",
    "kg apelsin",
    "ask salami Milano",
    "burk stenbitsrom",
    "hink kokta Ã¤gg skalade",
    "pÃ¥se jordnÃ¶tter saltade",
    "pÃ¥se valnÃ¶tskÃ¤rnor",
    "pÃ¥se vitlÃ¶kskrutonger",
    "kartong grillad kycklingbrÃ¶st fryst",
    "knippe dill",
    "kg tvÃ¤ttad kul potatis",
    "roman huvuden",
    "st godmorgon apelsinjuice",
    "st godmorgon Ã¤pple juice",
    "flak Sprite i burk",
    "kartong mozzarella bollar",
    "ask Prochutto crudo",
    "kartong fryst lingon",
    "crisp sallad"
  ];

  const units = ["pcs", "kg", "liter", "st", "flak", "dunk", "hink", "ask", "burk", "kartong"];

  const availableItemsEl = document.getElementById('available-items');
  const shoppingListEl = document.getElementById('shopping-list');
  const searchInput = document.getElementById('search-input');
  const autocompleteList = document.getElementById('autocomplete-list');

  // Render all items initially
  function renderItems(filteredItems) {
    availableItemsEl.innerHTML = '';
    filteredItems.forEach(item => {
      const li = document.createElement('li');
      const itemNameDiv = document.createElement('div');
      itemNameDiv.className = 'item-info';
      itemNameDiv.textContent = item;

      const controlsDiv = document.createElement('div');
      controlsDiv.className = 'controls';

      // Quantity input
      const qtyInput = document.createElement('input');
      qtyInput.type = 'number';
      qtyInput.min = '0.01';
      qtyInput.step = '0.01';
      qtyInput.value = '1';
      qtyInput.title = 'Quantity';

      // Unit select dropdown
      const unitSelect = document.createElement('select');
      units.forEach(unit => {
        const option = document.createElement('option');
        option.value = unit;
        option.textContent = unit;
        unitSelect.appendChild(option);
      });

      // Add button
      const addBtn = document.createElement('button');
      addBtn.textContent = 'Add';
      addBtn.onclick = () => addToShoppingList(item, qtyInput.value, unitSelect.value);

      controlsDiv.appendChild(qtyInput);
      controlsDiv.appendChild(unitSelect);
      controlsDiv.appendChild(addBtn);

      li.appendChild(itemNameDiv);
      li.appendChild(controlsDiv);
      availableItemsEl.appendChild(li);
    });
  }

  // Initial render
  renderItems(items);

  // Add to shopping list
  function addToShoppingList(name, quantity, unit) {
    if (!quantity || quantity <= 0) {
      alert('Please enter a valid quantity.');
      return;
    }

    // Create list item in shopping list
    const li = document.createElement('li');
    li.textContent = `${name} â€” ${quantity} ${unit}`;

    const removeBtn = document.createElement('button');
    removeBtn.textContent = 'Remove';
    removeBtn.className = 'remove-btn';
    removeBtn.onclick = () => shoppingListEl.removeChild(li);

    li.appendChild(removeBtn);
    shoppingListEl.appendChild(li);
  }

  // Share functions
  function shareWhatsApp() {
    const text = getShoppingListText();
    if (!text) return alert('No items to share!');
    const url = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
    window.open(url, '_blank');
  }

  function shareFacebook() {
    const text = getShoppingListText();
    if (!text) return alert('No items to share!');
    const url = `https://www.facebook.com/sharer/sharer.php?u=https://example.com&quote=${encodeURIComponent(text)}`;
    window.open(url, '_blank');
  }

  function shareTwitter() {
    const text = getShoppingListText();
    if (!text) return alert('No items to share!');
    const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
    window.open(url, '_blank');
  }

  function copyList() {
    const text = getShoppingListText();
    if (!text) return alert('No items to copy!');
    navigator.clipboard.writeText(text).then(() => {
      alert('Shopping list copied to clipboard!');
    });
  }

  function getShoppingListText() {
    const items = Array.from(shoppingListEl.querySelectorAll('li'))
      .map(li => li.firstChild.textContent || li.textContent.replace('Remove', '').trim())
      .filter(text => text.trim().length > 0);
    return items.join('\n');
  }

  // Dark mode toggle
  let darkMode = false;
  function toggleDarkMode() {
    darkMode = !darkMode;
    document.body.classList.toggle('dark-mode', darkMode);
  }

  // Search & autocomplete logic
  searchInput.addEventListener('input', () => {
    const val = searchInput.value.trim().toLowerCase();
    if (!val) {
      autocompleteList.innerHTML = '';
      renderItems(items);
      return;
    }

    // Filter items for autocomplete (max 8)
    const matched = items.filter(i => i.toLowerCase().includes(val)).slice(0,8);

    autocompleteList.innerHTML = '';
    matched.forEach(match => {
      const div = document.createElement('div');
      // Highlight matched part
      const regex = new RegExp(`(${val})`, 'gi');
      const innerHTML = match.replace(regex, '<strong>$1</strong>');
      div.innerHTML = innerHTML;

      div.onclick = () => {
        searchInput.value = match;
        autocompleteList.innerHTML = '';
        // Render only matched item (or could scroll to it)
        renderItems([match]);
      };

      autocompleteList.appendChild(div);
    });

    // Also filter list live as user types
    const filtered = items.filter(i => i.toLowerCase().includes(val));
    renderItems(filtered);
  });

  // Close autocomplete if clicked outside
  document.addEventListener('click', (e) => {
    if (!searchInput.contains(e.target) && !autocompleteList.contains(e.target)) {
      autocompleteList.innerHTML = '';
    }
  });
</script>
</body>
</html>




