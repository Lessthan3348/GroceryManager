<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Grocery List — Redesigned UI</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f4f8;
    margin: 30px;
    color: #34495e;
  }
  h1 {
    font-weight: 700;
    font-size: 2.2rem;
    margin-bottom: 20px;
    color: #2c3e50;
    user-select: none;
  }

  /* Search Bar */
  #searchBar {
    width: 320px;
    padding: 12px 16px;
    font-size: 1.1rem;
    border-radius: 12px;
    border: 2px solid #a8c0ff;
    background: #e6ecff;
    color: #2c3e50;
    transition: border-color 0.3s ease, background-color 0.3s ease;
    box-shadow: inset 0 2px 4px rgb(0 0 0 / 0.05);
  }
  #searchBar::placeholder {
    color: #7a8ba6;
  }
  #searchBar:focus {
    border-color: #4a90e2;
    background: #ffffff;
    outline: none;
    box-shadow: 0 0 10px #4a90e2aa;
  }

  /* Autocomplete */
  #autocomplete {
    position: absolute;
    width: 320px;
    max-height: 180px;
    overflow-y: auto;
    background: white;
    border-radius: 12px;
    box-shadow: 0 6px 14px rgb(0 0 0 / 0.15);
    margin-top: 4px;
    z-index: 150;
    display: none;
  }
  #autocomplete div {
    padding: 10px 16px;
    cursor: pointer;
    font-size: 1rem;
    color: #34495e;
    transition: background-color 0.25s ease, color 0.25s ease;
  }
  #autocomplete div:hover,
  #autocomplete div:focus {
    background-color: #4a90e2;
    color: white;
    outline: none;
  }

  /* List */
  ul#itemList {
    margin-top: 25px;
    max-width: 700px;
    padding-left: 0;
    list-style: none;
  }
  ul#itemList li {
    background: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-radius: 14px;
    padding: 14px 20px;
    margin-bottom: 14px;
    box-shadow: 0 2px 8px rgb(0 0 0 / 0.07);
    transition: box-shadow 0.3s ease;
  }
  ul#itemList li:hover {
    box-shadow: 0 4px 16px rgb(0 0 0 / 0.12);
  }
  span.name {
    flex: 2;
    font-weight: 600;
    font-size: 1.15rem;
    user-select: none;
    color: #2c3e50;
  }

  /* Inputs inside list */
  ul#itemList li input[type="number"],
  ul#itemList li input.unit-input {
    font-size: 1rem;
    padding: 8px 12px;
    border-radius: 12px;
    border: 2px solid #a8c0ff;
    width: 80px;
    color: #34495e;
    text-align: center;
    transition: border-color 0.3s ease;
    box-shadow: inset 0 2px 6px rgb(0 0 0 / 0.05);
    margin-left: 18px;
  }
  ul#itemList li input[type="number"]:focus,
  ul#itemList li input.unit-input:focus {
    border-color: #4a90e2;
    outline: none;
    box-shadow: 0 0 8px #4a90e2aa inset;
  }

  /* Remove button */
  button.delBtn {
    background-color: #e74c3c;
    border: none;
    color: white;
    padding: 10px 18px;
    font-weight: 600;
    font-size: 1rem;
    border-radius: 16px;
    cursor: pointer;
    margin-left: 20px;
    transition: background-color 0.3s ease, transform 0.15s ease;
    user-select: none;
    box-shadow: 0 4px 8px rgb(231 76 60 / 0.3);
  }
  button.delBtn:hover {
    background-color: #c0392b;
    box-shadow: 0 6px 14px rgb(192 57 43 / 0.45);
    transform: scale(1.08);
  }
  button.delBtn:active {
    transform: scale(0.95);
  }

  /* Toggle & Share Buttons container */
  #toggleAllBtn, #whatsappBtn, #facebookBtn, #emailBtn {
    font-weight: 600;
    font-size: 1.05rem;
    padding: 12px 22px;
    border-radius: 20px;
    border: none;
    cursor: pointer;
    margin-right: 12px;
    transition: background-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
    user-select: none;
    box-shadow: 0 3px 7px rgb(74 144 226 / 0.35);
    color: white;
  }

  /* Specific colors */
  #toggleAllBtn {
    background: linear-gradient(135deg, #4a90e2 0%, #357ABD 100%);
  }
  #toggleAllBtn:hover {
    background: linear-gradient(135deg, #357ABD 0%, #2a5f9f 100%);
    box-shadow: 0 6px 14px rgb(53 122 189 / 0.6);
    transform: translateY(-2px);
  }
  #toggleAllBtn:active {
    transform: translateY(1px) scale(0.95);
    box-shadow: none;
  }

  #whatsappBtn {
    background: #25D366;
    box-shadow: 0 3px 7px rgb(37 211 102 / 0.45);
  }
  #whatsappBtn:hover {
    background: #1ebc59;
    box-shadow: 0 6px 14px rgb(30 188 89 / 0.7);
    transform: translateY(-2px);
  }
  #whatsappBtn:active {
    transform: translateY(1px) scale(0.95);
    box-shadow: none;
  }

  #facebookBtn {
    background: #3b5998;
    box-shadow: 0 3px 7px rgb(59 89 152 / 0.45);
  }
  #facebookBtn:hover {
    background: #2d4373;
    box-shadow: 0 6px 14px rgb(45 67 115 / 0.7);
    transform: translateY(-2px);
  }
  #facebookBtn:active {
    transform: translateY(1px) scale(0.95);
    box-shadow: none;
  }

  #emailBtn {
    background: #f39c12;
    box-shadow: 0 3px 7px rgb(243 156 18 / 0.45);
  }
  #emailBtn:hover {
    background: #d17e00;
    box-shadow: 0 6px 14px rgb(209 126 0 / 0.7);
    transform: translateY(-2px);
  }
  #emailBtn:active {
    transform: translateY(1px) scale(0.95);
    box-shadow: none;
  }

  #shareButtons {
    margin-top: 30px;
  }
</style>
</head>
<body>

<h1>Grocery List</h1>

<input id="searchBar" type="text" placeholder="Add item by name and press Enter" aria-label="Add grocery item" autocomplete="off" aria-autocomplete="list" aria-expanded="false" />
<div id="autocomplete" role="listbox" tabindex="-1"></div>

<ul id="itemList" aria-live="polite" aria-relevant="additions removals"></ul>

<button id="toggleAllBtn" aria-label="Toggle selection of all items">Toggle All Items</button>

<div id="shareButtons" aria-label="Share list on social media">
  <button id="whatsappBtn" aria-label="Share on WhatsApp">WhatsApp</button>
  <button id="facebookBtn" aria-label="Share on Facebook">Facebook</button>
  <button id="emailBtn" aria-label="Share via Email">Email</button>
</div>

<script>
  const initialItems = [
    { name: "Påse Napolitana salads mix", quantity: 1, unit: "pack" },
    { name: "Tomat", quantity: 1, unit: "kg" },
    { name: "Championer", quantity: 1, unit: "kg" },
    { name: "Rödlök", quantity: 1, unit: "kg" },
    { name: "Margarin flytande rama", quantity: 1, unit: "st" },
    { name: "Olivolja extra virgin", quantity: 5, unit: "L" },
    { name: "Gurka ofilmad", quantity: 1, unit: "kg" },
    { name: "Citron", quantity: 1, unit: "kg" },
    { name: "Handskalade räkor", quantity: 1, unit: "hink" },
    { name: "Granny Smith äpplen gröna", quantity: 0.5, unit: "kg" },
    { name: "Ramlösa naturell i burk", quantity: 1, unit: "flak" },
    { name: "Coca Cola i burk", quantity: 1, unit: "flak" },
    { name: "Coca Cola Zero i burk", quantity: 1, unit: "flak" },
    { name: "Standard mjölk", quantity: 1, unit: "L" },
    { name: "Spray grädde", quantity: 1, unit: "st" },
    { name: "Rama grädde", quantity: 1, unit: "L" },
    { name: "Riven mozzarella ost", quantity: 1, unit: "påse" },
    { name: "Riven grano padano", quantity: 1, unit: "påse" },
    { name: "Smör red label Arla", quantity: 500, unit: "g" },
    { name: "Bakad potatis", quantity: 15, unit: "st" },
    { name: "Spaghetti", quantity: 5, unit: "kg" },
    { name: "Chèvre rulle", quantity: 1, unit: "st" },
    { name: "Mospotatis chefs cut", quantity: 1, unit: "påse" },
    { name: "Ruccola", quantity: 1, unit: "ask" },
    { name: "Lime", quantity: 1, unit: "kg" },
    { name: "Basilika", quantity: 1, unit: "ask" },
    { name: "Färsk mynta", quantity: 1, unit: "knippe" },
    { name: "Apelsin", quantity: 1, unit: "kg" },
    { name: "Salami Milano", quantity: 1, unit: "ask" },
    { name: "Stenbitsrom", quantity: 1, unit: "burk" },
    { name: "Kokta ägg skalade", quantity: 1, unit: "hink" },
    { name: "Jordnötter saltade", quantity: 1, unit: "påse" },
    { name: "Valnötskärnor", quantity: 1, unit: "påse" },
    { name: "Vitlökskrutonger", quantity: 1, unit: "påse" },
    { name: "Grillad kycklingbröst fryst", quantity: 1, unit: "kartong" },
    { name: "Dill", quantity: 1, unit: "knippe" },
    { name: "Tvättad kul potatis", quantity: 1, unit: "kg" },
    { name: "Roman huvuden", quantity: 1, unit: "st" },
    { name: "Godmorgon apelsinjuice", quantity: 1, unit: "st" },
    { name: "Godmorgon äpple juice", quantity: 1, unit: "st" },
    { name: "Sprite i burk", quantity: 1, unit: "flak" },
    { name: "Julmust i burk", quantity: 1, unit: "flak" },
    { name: "Bananer", quantity: 1, unit: "kg" },
    { name: "Vitamin well", quantity: 1, unit: "flak" },
    { name: "Vichy", quantity: 1, unit: "flak" },
    { name: "Pepsi max", quantity: 1, unit: "flak" },
    { name: "Pepsi", quantity: 1, unit: "flak" },
    { name: "Mjölkchoklad", quantity: 1, unit: "st" },
    { name: "Dajm", quantity: 1, unit: "st" },
    { name: "Ballerina", quantity: 1, unit: "st" },
    { name: "Marabou", quantity: 1, unit: "st" },
    { name: "Milkshake Vanilj", quantity: 1, unit: "st" },
    { name: "Milkshake Choklad", quantity: 1, unit: "st" },
    { name: "Bregott", quantity: 1, unit: "st" },
    { name: "Vaniljglass", quantity: 1, unit: "st" },
    { name: "Hushållsost skivad", quantity: 1, unit: "st" },
    { name: "Majs", quantity: 1, unit: "burk" },
    { name: "Lätt crème fraiche", quantity: 1, unit: "st" },
    { name: "Creme fraiche", quantity: 1, unit: "st" },
    { name: "Gräslök", quantity: 1, unit: "knippe" },
    { name: "Senap", quantity: 1, unit: "burk" },
    { name: "Bregott lätt", quantity: 1, unit: "st" },
    { name: "Ärtor", quantity: 1, unit: "burk" },
    { name: "Äppelmos", quantity: 1, unit: "burk" },
    { name: "Jordgubbssylt", quantity: 1, unit: "burk" },
    { name: "Lingonsylt", quantity: 1, unit: "burk" },
    { name: "Krossade tomater", quantity: 1, unit: "burk" },
    { name: "Tacokrydda", quantity: 1, unit: "påse" },
    { name: "Jalapenos", quantity: 1, unit: "burk" },
    { name: "Krossade tomater", quantity: 1, unit: "burk" },
    { name: "Chili con carne krydda", quantity: 1, unit: "påse" },
    { name: "Svarta bönor", quantity: 1, unit: "burk" },
    { name: "Fryst mango", quantity: 1, unit: "påse" },
    { name: "Gräddfil", quantity: 1, unit: "st" },
    { name: "Äpple", quantity: 1, unit: "kg" },
    { name: "Apelsin", quantity: 1, unit: "kg" },
    { name: "Banana", quantity: 1, unit: "kg" }
  ];

  const groceries = initialItems.map(i => i.name);

  let items = [...initialItems];

  const itemList = document.getElementById('itemList');
  const searchBar = document.getElementById('searchBar');
  const autocomplete = document.getElementById('autocomplete');

  function renderList() {
    itemList.innerHTML = '';
    items.forEach((item, i) => {
      const li = document.createElement('li');
      li.setAttribute('role', 'listitem');

      const nameSpan = document.createElement('span');
      nameSpan.classList.add('name');
      nameSpan.textContent = item.name;
      li.appendChild(nameSpan);

      // Quantity input
      const quantityInput = document.createElement('input');
      quantityInput.type = 'number';
      quantityInput.min = '0';
      quantityInput.step = 'any';
      quantityInput.value = item.quantity;
      quantityInput.setAttribute('aria-label', `Quantity for ${item.name}`);
      quantityInput.addEventListener('change', (e) => {
        const val = parseFloat(e.target.value);
        items[i].quantity = isNaN(val) || val < 0 ? 0 : val;
        renderList();
      });
      li.appendChild(quantityInput);

      // Unit input
      const unitInput = document.createElement('input');
      unitInput.type = 'text';
      unitInput.value = item.unit;
      unitInput.classList.add('unit-input');
      unitInput.setAttribute('aria-label', `Unit for ${item.name}`);
      unitInput.addEventListener('input', (e) => {
        items[i].unit = e.target.value.trim();
      });
      li.appendChild(unitInput);

      // Remove button
      const delBtn = document.createElement('button');
      delBtn.classList.add('delBtn');
      delBtn.setAttribute('aria-label', `Remove ${item.name}`);
      delBtn.textContent = 'Remove';
      delBtn.addEventListener('click', () => {
        items.splice(i, 1);
        renderList();
      });
      li.appendChild(delBtn);

      itemList.appendChild(li);
    });
  }

  // Search and add new items with autocomplete
  searchBar.addEventListener('keydown', e => {
    if (e.key === 'Enter' && searchBar.value.trim() !== '') {
      const name = searchBar.value.trim();
      const existing = items.find(i => i.name.toLowerCase() === name.toLowerCase());
      if (!existing) {
        items.push({ name, quantity: 1, unit: '' });
        renderList();
      }
      searchBar.value = '';
      autocomplete.style.display = 'none';
      searchBar.setAttribute('aria-expanded', 'false');
    }
  });

  searchBar.addEventListener('input', () => {
    const val = searchBar.value.trim().toLowerCase();
    if (val.length === 0) {
      autocomplete.style.display = 'none';
      searchBar.setAttribute('aria-expanded', 'false');
      return;
    }
    const matches = groceries.filter(g => g.toLowerCase().startsWith(val) && !items.some(i => i.name.toLowerCase() === g.toLowerCase()));
    autocomplete.innerHTML = '';
    if (matches.length > 0) {
      matches.forEach(match => {
        const div = document.createElement('div');
        div.textContent = match;
        div.tabIndex = 0;
        div.setAttribute('role', 'option');
        div.addEventListener('click', () => {
          items.push({ name: match, quantity: 1, unit: '' });
          renderList();
          autocomplete.style.display = 'none';
          searchBar.value = '';
          searchBar.focus();
          searchBar.setAttribute('aria-expanded', 'false');
        });
        div.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            div.click();
          }
        });
        autocomplete.appendChild(div);
      });
      autocomplete.style.display = 'block';
      searchBar.setAttribute('aria-expanded', 'true');
    } else {
      autocomplete.style.display = 'none';
      searchBar.setAttribute('aria-expanded', 'false');
    }
  });

  // Toggle all button
  document.getElementById('toggleAllBtn').addEventListener('click', () => {
    if (items.length > 0) {
      items = [];
    } else {
      items = [...initialItems];
    }
    renderList();
  });

  // Share buttons
  function generateShareText() {
    return items.map(i => `${i.name}: ${i.quantity} ${i.unit}`).join('\n');
  }

  document.getElementById('whatsappBtn').addEventListener('click', () => {
    const text = encodeURIComponent(generateShareText());
    window.open(`https://wa.me/?text=${text}`, '_blank');
  });
  document.getElementById('facebookBtn').addEventListener('click', () => {
    const text = encodeURIComponent(generateShareText());
    window.open(`https://www.facebook.com/sharer/sharer.php?u=&quote=${text}`, '_blank');
  });
  document.getElementById('emailBtn').addEventListener('click', () => {
    const text = encodeURIComponent(generateShareText());
    window.location.href = `mailto:?subject=Grocery List&body=${text}`;
  });

  // Initial render
  renderList();
</script>
</body>
</html>



